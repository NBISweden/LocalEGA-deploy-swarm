import se.nbis.lega.deployment.Groups
import se.nbis.lega.deployment.cluster.CreateMachineTask
import se.nbis.lega.deployment.cluster.ListTask
import se.nbis.lega.deployment.cluster.Machine
import se.nbis.lega.deployment.cluster.RemoveMachineTask

task createCEGAMachine(type: CreateMachineTask) {
    setGroup Groups.CLUSTER.getName()

    setMachineName Machine.CEGA.getName()
}

task createLEGAMachine(type: CreateMachineTask) {
    setGroup Groups.CLUSTER.getName()

    setMachineName Machine.LEGA.getName()
}

task provision() {
    setGroup Groups.CLUSTER.getName()

    dependsOn ":cluster:createCEGAMachine", ":cluster:createLEGAMachine"
}

task removeCEGAMachine(type: RemoveMachineTask) {
    setGroup Groups.CLUSTER.getName()

    setMachineName Machine.CEGA.getName()
}

task removeLEGAMachine(type: RemoveMachineTask) {
    setGroup Groups.CLUSTER.getName()

    setMachineName Machine.LEGA.getName()
}

task destroy() {
    setGroup Groups.CLUSTER.getName()

    dependsOn ":cluster:removeCEGAMachine", ":cluster:removeLEGAMachine"
}

task list(type: ListTask)
